{% extends "base.html" %}
{% block title %}Welcome{% endblock %}

{% block content %}
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Stop CRUD</title>
  <!-- Include Bootstrap CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>
<body>

  <div class="container">
    <h1>Stop CRUD</h1>

    <!-- Create Stop -->
    <div class="card">
      <div class="card-header">
        Create Stop
      </div>
      <div class="card-body">
        <form>
          <div class="form-group">
            <label for="name">Name</label>
            <input type="text" class="form-control" id="name" required>
          </div>
          <div class="form-group">
            <label for="location_x">Location X</label>
            <input type="text" class="form-control" id="location_x" required>
          </div>
          <div class="form-group">
            <label for="location_y">Location Y</label>
            <input type="text" class="form-control" id="location_y" required>
          </div>
          <button type="submit" class="btn btn-primary">Create</button>
        </form>
      </div>
    </div>

    <!-- Search and Display Stop -->
    <div class="card mt-4">
      <div class="card-header">
        Search and Display Stop
      </div>
      <div class="card-body">
        <form>
          <div class="form-group">
            <label for="search">Search</label>
            <input type="text" class="form-control" id="search">
          </div>
          <button type="submit" class="btn btn-primary">Search</button>
        </form>
        <hr>
        <div id="stop-info" style="display: none;">
          <h5>Stop Details:</h5>
          <p><strong>Name:</strong> <span id="stop-name"></span></p>
          <p><strong>Location X:</strong> <span id="stop-location-x"></span></p>
          <p><strong>Location Y:</strong> <span id="stop-location-y"></span></p>
        </div>
        <div id="no-stop-info" style="display: none;">
          <p>No stop found.</p>
        </div>
      </div>
    </div>

    <!-- Update and Delete Stop -->
    <div class="card mt-4">
      <div class="card-header">
        Update/Delete Stop
      </div>
      <div class="card-body">
        <form>
          <div class="form-group">
            <label for="update_name">Name</label>
            <input type="text" class="form-control" id="update_name" required>
          </div>
          <div class="form-group">
            <label for="update_location_x">Location X</label>
            <input type="text" class="form-control" id="update_location_x" required>
          </div>
          <div class="form-group">
            <label for="update_location_y">Location Y</label>
            <input type="text" class="form-control" id="update_location_y" required>
          </div>
          <div class="btn-group">
            <button type="submit" class="btn btn-primary">Update</button>
            <button type="button" class="btn btn-danger">Delete</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Include Bootstrap JS -->
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  <script>
    document.querySelector('#search').addEventListener('input', function() {
      var searchTerm = this.value.toLowerCase();
      var stopInfo = document.querySelector('#stop-info');
      var noStopInfo = document.querySelector('#no-stop-info');

      if (searchTerm.trim() === '') {
        stopInfo.style.display = 'none';
        noStopInfo.style.display = 'none';
      } else {
        var stopName = document.querySelector('#stop-name');
        var stopLocationX = document.querySelector('#stop-location-x');
        var stopLocationY = document.querySelector('#stop-location-y');

        // Perform search logic here to find the stop based on the search term
        // Replace the following lines with your actual search logic
        var stopFound = false;
        var foundStop = {
          name: '',
          location_x: '',
          location_y: ''
        };

        if (stopFound) {
          stopInfo.style.display = 'block';
          noStopInfo.style.display = 'none';

          stopName.textContent = foundStop.name;
          stopLocationX.textContent = foundStop.location_x;
          stopLocationY.textContent = foundStop.location_y;
        } else {
          stopInfo.style.display = 'none';
          noStopInfo.style.display = 'block';
        }
      }
    });
  </script>
</body>

{% endblock %}


